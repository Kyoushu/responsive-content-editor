var RCE={Views:{}};RCE.Views.View=function(){var a=function(a){"undefined"==typeof a&&(a={}),this.context=a};return a.prototype.context=null,a.prototype.render=function(){},a}(),RCE.Column=function(){var a=function(a){"undefined"==typeof a&&(a=null),this.widget=a,this.spans={}};return a.prototype.widget=null,a.prototype.spans=null,a.prototype.row=null,a.prototype.getState=function(){var a={widget:null,spans:this.spans};return this.widget&&(a.widget=this.widget.getState()),a},a.prototype.setSpan=function(a,b){this.spans[a]=b},a.prototype.setState=function(a){if(this.spans=a.spans,a.widget){var b=this.row.editor.createWidget(a.widget.name);b.setState(a.widget),this.widget=b}},a}(),RCE.Editor=function(){var a={grid_columns:12},b={},c=function(b,c){if("undefined"==typeof b)throw"No inputElement was provided";if(0===b.length)throw"inputElement is empty";if(b.length>1)throw"inputElement contains more than one element";"undefined"==typeof c&&(c={}),c=$.extend({},a,c),this.config=c,this.view=new RCE.Views.EditorView(this),b.css("display",none),b.after(this.view.render())};return c.prototype.inputElement=null,c.prototype.config=null,c.prototype.view=null,c.prototype.rows=[],c.prototype.getState=function(){var a={config:this.config,rows:[]};return $.each(this.rows,function(b,c){a.rows.push(c.getState())}),a},c.prototype.setState=function(b){var c=this;this.config=$.extend({},a,b.config),this.rows=[],$.each(b.rows,function(a,b){var d=new RCE.Row;c.push(d),d.setState(b)})},c.prototype.saveStateToInputElement=function(){},c.prototype.loadStateFromInputElement=function(){},c.prototype.registerWidget=function(a){b[a.name]=a},c.prototype.findWidgetByName=function(a){if("undefined"==typeof b[a])throw"widget named "+a+" could not be found";return b[a]},c.prototype.createWidget=function(a,b){var c=this.findWidgetByName(a);return new c(b)},c.prototype.createRow=function(){return new RCE.Row},c.prototype.addRow=function(a){a.editor=this,this.rows.push(a)},c.prototype.moveRowUp=function(a){this.rows=RCE.Utils.moveArrayObject(this.rows,a,-1)},c.prototype.moveRowDown=function(a){this.rows=RCE.Utils.moveArrayObject(this.rows,a,1)},c}(),RCE.Row=function(){var a=function(){};return a.prototype.editor=null,a.prototype.columns=[],a.prototype.getState=function(){var a={columns:[]};return $.each(this.columns,function(b,c){a.columns.push(c.getState())}),a},a.prototype.setState=function(a){var b=this;this.columns=[],$.each(a.columns,function(a,c){var d=new RCE.Column;b.addColumn(d),d.setState(c)})},a.prototype.addColumn=function(a){this.columns.push(a),a.setSpan("small",this.editor.config.grid_columns),a.setSpan("medium",this.editor.config.grid_columns),a.setSpan("large",this.editor.config.grid_columns),a.row=this},a.prototype.moveColumnLeft=function(a){this.rows=RCE.Utils.moveArrayObject(this.columns,a,-1)},a.prototype.moveColumnRight=function(a){this.rows=RCE.Utils.moveArrayObject(this.columns,a,1)},a}(),RCE.Utils=function(){function a(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function b(b){return"undefined"==typeof b._UUID&&(b._UUID=a()),b._UUID}function c(a,c){var d=null,e=b(c);if($.each(a,function(a,c){if(b(c)===e)return d=a,!1}),null===d)throw"object not found in array";return d}function d(a,b,d){if(d=parseInt(d),0===d)return a;d<-1&&(d=-1),d>1&&(d=1);var e=c(a,b),f=e+d;return"undefined"==typeof a[f]?a:(a[e]=a[f],a[f]=b,a)}return{getObjectUUID:b,createUUID:a,getArrayObjectIndex:c,moveArrayObject:d}}(),RCE.Views.EditorView=function(){var a=function(a){RCE.Views.View.call(this,arguments)};return a.prototype.render=function(){var a=(this.context,$("<div>").addClass("rce-editor")),b=$("<div>").addClass("rce-editor--rows");return a.append(b),a},a}(),RCE.Widget=function(){var a=function(a){"undefined"==typeof a&&(a={}),this.context=a};return a.prototype.name=null,a.prototype.humanName=null,a.prototype.context=null,a.prototype.renderPreviewElement=function(){},a.prototype.renderContextEditorElement=function(){},a.prototype.getState=function(){return{name:this.name,context:this.context}},a.prototype.setState=function(a){this.name=a.name,this.context=a.context},a}();